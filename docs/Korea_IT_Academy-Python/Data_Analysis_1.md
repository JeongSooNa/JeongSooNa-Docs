# Data Analysis - 공공데이터 포털 데이터 포털 자료 사용 데이터 분석

### Summary

- 분석 목표 : 공공데이터포털(data.go.kr) 전라남도 응급의료기관현황 자료를 사용한 파이썬 실습 및 데이터 분석

- 세부 목표
    - 병원명 입력 시 전화번호 및 정보 제공(print) 구현
    - 응급의료 취약지여부를 활용한 데이터 분류
    - input()함수를 활용한 병원명 검색 기능 구현
    - 허가병상수 데이터 기반 평균 계산 및 상위 5개 병원 출력

- 자료 출처 : [공공데이터포털 전라남도_응급의료기관현황](https://www.data.go.kr/data/15069190/fileData.do)

- 데이터

|종별구분|응급의료 취약지여부|병원명|지정일자|응급의료권역|응급실 대표전화|응급실 팩스번호|세부주소|도로명 주소|우편번호|의료법상 병원분류|허가병상수|데이터기준일자|
|-|-|-|-|-|-|-|-|-|-|-|-|-|
|권역응급의료센터|N|목포한국병원|2019-01-01|전남목포|061-270-5666|061-277-0199|전라남도 목포시 영산로 483 (상동)|전라남도 목포시 영산로 483 (상동)|58643|종합병원|576|2025-07-09|
|권역응급의료센터|N|성가롤로병원|2019-01-01|전남순천|061-720-6119|061-720-6000|전라남도 순천시 순광로 221 (조례동)|전라남도 순천시 순광로 221 (조례동)|57931|종합병원|555|2025-07-09|
|지역응급의료센터|N|화순전남대학교병원|2019-01-01|광주|061-379-8882|061-379-7420|전라남도 화순군 화순읍 서양로 322|전라남도 화순군 화순읍 서양로 322|58128|상급종합병원|684|2025-07-09|
|.|.|.|.|.|.|.|.|.|.|.|.|.|
|.|.|.|.|.|.|.|.|.|.|.|.|.|

- 데이터 불러오기

```py
import pandas as pd

df = pd.read_csv('전라남도_응급의료기관현황_20250709.csv', encoding='cp949')
print(df)
```

### 병원명 입력 시 전화번호 및 정보 제공(print) 구현

- 데이터 확인
```py
df[['병원명','응급실 대표전화']]
```

- 병원명 입력
```py
name = input("병원명을 입력하시오\n")
```

- 데이터 출력
```py
if name in df['병원명'].values:
    info = df[df['병원명'] == name][['병원명', '응급실 대표전화', '세부주소', '허가병상수']]
    print("***병원 정보")
    print(info.to_string(index=False))
else:
    print("병원을 찾을 수 없습니다.")
```

### 응급의료 취약지여부를 활용한 데이터 분류

```py
a = df[df['응급의료 취약지여부'] == 'Y']
print("[응급의료 취약지 병원 목록]")
print(a['병원명'])
```

### input()함수를 활용한 병원명 검색 기능 구현

- 병원명 입력
```py
name = input("병원명을 입력하시오\n")
```

- 검색 기능
```py
for i in range(len(df)):
    hospital_name = df.iloc[i]['병원명']
    if name in hospital_name:
        print(hospital_name,"/",df.iloc[i]['응급실 대표전화'],"/",df.iloc[i]['세부주소'])
```

- 심화 : pandas 내 문자열 포함 확인 함수 사용
```py
result = df[df['병원명'].str.contains(name, case=False, na=False)]

if not result.empty:
    print(f"\n[검색 결과: '{name}'가 포함된 병원]")
    print(result[['병원명', '응급실 대표전화', '세부주소']].to_string(index=False))
else:
    print("일치하는 병원을 찾을 수 없습니다.")
```

### 허가병상수 데이터 기반 평균 계산 및 상위 5개 병원 출력

- 평균
```py
df['허가병상수'] = pd.to_numeric(df['허가병상수'])  # str > int
avg = df['허가병상수'].mean()
print(avg)
print(int(avg))
```

- 허가병상수 상위 5개 병원
```py
top5 = df.sort_values(by='허가병상수', ascending=False).head(5)
print("***허가병상수 상위 5개 병원")
print(top5[['병원명', '허가병상수']])
```